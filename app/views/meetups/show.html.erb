<% title @meetup.title %>
<%= render 'layouts/navbar' %>

<div class="meetups">


  <h1>
    <%= @meetup.title %>
  </h1>

  <p>
    <%= @meetup.time.strftime("%A %B %d %Y %I:%M %p %Z")  %>
  </p>

  <p>
    <%= @meetup.description %>
  </p>

  <p>
    <strong>Spot:</strong>
    <%= @meetup.spot.title %>
  </p>

  <p>
    <strong>Owner:</strong>
    <%= link_to @meetup.user.username, show_user_path(@meetup.user.username) %>

  </p>

  <p>
    <strong>Attendees:</strong>
    <%= @meetup.meetup_attendees.count %>
    <% if user_signed_in? %>
      <%= react_component('AttendMeetup', meetup: @meetup, attending: user_attending_meetup?(@meetup, current_user)) %>
    <% end %>
  </p>

  <% if @meetup.meetup_attendees.any? %>
    <%= react_component('MeetupAttendeesDropdown', attendees: @meetup.meetup_attendees.map{|ma| ma.user.username}) %>
  <% end %>

  <% if @meetup.user == current_user %>
    <%= link_to 'Edit', edit_spot_meetup_path(@meetup) %>
  <% end %>
  <%= link_to 'Back', spot_meetups_path %>

</div>
